<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Codex Interface</title>
<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  background: black;
  color: #00ffff;
  font-family: "Orbitron", sans-serif;
  overflow: hidden;
  cursor: none;
}

/* ===== Datapad Layout ===== */
.datapad {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: row;
  background: radial-gradient(circle at center, #001122 0%, #000 100%);
}

/* ===== Sidebar ===== */
#sidebar {
  position: relative;
  width: 220px;
  background: rgba(0, 30, 50, 0.8);
  border-right: 2px solid #0ff;
  z-index: 5;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding-top: 10px;
}

#sidebar button {
  width: 180px;
  margin: 5px 0;
  padding: 8px;
  background: rgba(0, 255, 255, 0.1);
  border: 1px solid #0ff;
  color: #0ff;
  font-size: 14px;
  text-transform: uppercase;
  cursor: pointer;
}
#sidebar button:hover {
  background: rgba(0,255,255,0.3);
}

#searchBar {
  width: 180px;
  padding: 5px;
  margin-top: 10px;
  border: 1px solid #0ff;
  background: rgba(0,255,255,0.05);
  color: #0ff;
}

/* ===== Screen Area ===== */
#screen {
  position: relative;
  left: 0;
  width: calc(100% - 220px);
  height: 100%;
  overflow: hidden;
  z-index: 1;
}

#entryContainer {
  position: absolute;
  inset: 0;
  padding: 40px;
  overflow-y: auto;
  z-index: 2;
}

#entryContainer img {
  max-width: 100%;
  height: auto;
  margin-bottom: 15px;
  display: block;
  border: 1px solid #0ff;
}

#overlayEffects {
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at var(--x, 50%) var(--y, 50%), rgba(0,255,255,0.1), rgba(0,255,255,0.05) 50%, rgba(0,255,255,0) 80%);
  mix-blend-mode: screen;
  pointer-events: none;
  z-index: 3;
  filter: blur(4px);
  animation: flicker 0.25s infinite;
}

@keyframes flicker {
  0%, 100% { opacity: 0.9; }
  50% { opacity: 0.7; }
}

/* ===== Cursor Dot ===== */
#cursorDot {
  position: fixed;
  width: 20px;
  height: 20px;
  background: radial-gradient(circle, #00ffff 0%, transparent 70%);
  border-radius: 50%;
  pointer-events: none;
  z-index: 10;
  mix-blend-mode: screen;
}

/* ===== Breadcrumbs & Titles ===== */
#breadcrumbs {
  margin-bottom: 20px;
  font-size: 14px;
  color: #0ff;
}

h1 {
  font-size: 22px;
  margin-bottom: 10px;
  color: #0ff;
}

p {
  line-height: 1.6;
  color: #aaffff;
}

/* ===== Scrollbar Styling ===== */
#entryContainer::-webkit-scrollbar {
  width: 6px;
}
#entryContainer::-webkit-scrollbar-thumb {
  background-color: rgba(0,255,255,0.4);
}
#entryContainer::-webkit-scrollbar-track {
  background-color: rgba(0,255,255,0.1);
}
</style>
</head>
<body>
<div class="datapad">
  <div id="sidebar">
    <input type="text" id="searchBar" placeholder="Search entries...">
    <button class="category-btn" data-category="planets">Planets</button>
    <button class="category-btn" data-category="characters">Characters</button>
    <button class="category-btn" data-category="technology">Technology</button>
    <button id="backBtn" style="display:none;">Back</button>
  </div>

  <div id="screen">
    <div id="entryContainer">
      <div id="breadcrumbs"></div>
      <div id="contentArea">
        <h1>Codex Interface</h1>
        <p>Select a category to begin accessing the archive.</p>
      </div>
    </div>
    <div id="overlayEffects"></div>
  </div>

  <div id="cursorDot"></div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const categories = {
    planets: [
      { title: "Yavin 4", text: "A jungle moon home to ancient temples, later used as a Rebel base.", img: "https://upload.wikimedia.org/wikipedia/en/8/8b/Yavin-4.jpg" },
      { title: "Hoth", text: "An icy world used by the Rebels as a temporary hideout.", img: "https://upload.wikimedia.org/wikipedia/en/1/1b/Hothplanet.jpg" }
    ],
    characters: [
      { title: "Luke Skywalker", text: "Jedi Knight who brought balance to the Force.", img: "https://upload.wikimedia.org/wikipedia/en/9/9b/Luke_Skywalker.png" },
      { title: "Darth Vader", text: "Once Anakin Skywalker, turned Sith Lord of the Galactic Empire.", img: "https://upload.wikimedia.org/wikipedia/en/7/76/Darth_Vader.jpg" }
    ],
    technology: [
      { title: "X-wing Starfighter", text: "Versatile Rebel Alliance starfighter used in many key battles.", img: "https://upload.wikimedia.org/wikipedia/en/3/3a/Xwing-ANH.png" },
      { title: "Lightsaber", text: "Energy blade weapon of the Jedi and Sith orders.", img: "https://upload.wikimedia.org/wikipedia/en/1/12/Lightsaber_blue.jpg" }
    ]
  };

  const searchBar = document.getElementById('searchBar');
  const backBtn = document.getElementById('backBtn');
  const entryContainer = document.getElementById('entryContainer');
  const contentArea = document.getElementById('contentArea');
  const breadcrumbs = document.getElementById('breadcrumbs');
  const overlay = document.getElementById('overlayEffects');
  const cursorDot = document.getElementById('cursorDot');
  const screen = document.getElementById('screen');

  function showCategory(cat) {
    const entries = categories[cat];
    let html = `<h1>${cat.charAt(0).toUpperCase() + cat.slice(1)}</h1>`;
    entries.forEach((entry, i) => {
      html += `<button class="entry-btn" data-category="${cat}" data-index="${i}">${entry.title}</button>`;
    });
    contentArea.innerHTML = html;
    breadcrumbs.innerHTML = `Category: ${cat}`;
    backBtn.style.display = 'inline-block';
  }

  function showEntry(cat, index) {
    const entry = categories[cat][index];
    contentArea.innerHTML = `<h1>${entry.title}</h1><img src="${entry.img}" alt=""><p>${entry.text}</p>`;
    breadcrumbs.innerHTML = `Category: ${cat} > ${entry.title}`;
  }

  function showHome() {
    contentArea.innerHTML = `<h1>Codex Interface</h1><p>Select a category to begin accessing the archive.</p>`;
    breadcrumbs.innerHTML = '';
    backBtn.style.display = 'none';
  }

  document.querySelectorAll('.category-btn').forEach(btn => {
    btn.addEventListener('click', () => showCategory(btn.dataset.category));
  });

  entryContainer.addEventListener('click', e => {
    if (e.target.classList.contains('entry-btn')) {
      showEntry(e.target.dataset.category, e.target.dataset.index);
    }
  });

  backBtn.addEventListener('click', showHome);

  searchBar.addEventListener('input', e => {
    const term = e.target.value.toLowerCase();
    let found = [];
    for (let cat in categories) {
      categories[cat].forEach(entry => {
        if (entry.title.toLowerCase().includes(term)) found.push({cat, entry});
      });
    }
    let html = `<h1>Search Results</h1>`;
    found.forEach(item => {
      html += `<button class="entry-btn" data-category="${item.cat}" data-index="${categories[item.cat].indexOf(item.entry)}">${item.entry.title}</button>`;
    });
    contentArea.innerHTML = html || "<p>No results found.</p>";
    breadcrumbs.innerHTML = "Search";
    backBtn.style.display = 'inline-block';
  });

  // ===== Distortion Effect =====
  screen.addEventListener('mousemove', e => {
    const rect = screen.getBoundingClientRect();
    const x = ((e.clientX - rect.left) / rect.width) * 100;
    const y = ((e.clientY - rect.top) / rect.height) * 100;
    overlay.style.setProperty('--x', x + '%');
    overlay.style.setProperty('--y', y + '%');
  });

  function randomDistortionPulse() {
    const scale = 1.2 + Math.random() * 0.05;  // larger ripple
    overlay.style.transform = `scale(${scale})`;
    overlay.style.filter = `blur(${3 + Math.random() * 3}px)`; // stronger visibility
    setTimeout(() => {
      overlay.style.transform = 'scale(1)';
      overlay.style.filter = 'blur(4px)';
    }, 100 + Math.random() * 100);
  }
  setInterval(randomDistortionPulse, 150);

  // ===== Cursor Tracking =====
  screen.addEventListener('mousemove', e => {
    const rect = screen.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const y = e.clientY - rect.top;
    cursorDot.style.left = x + 'px';
    cursorDot.style.top = y + 'px';
  });

  showHome();
});
</script>
</body>
</html>
